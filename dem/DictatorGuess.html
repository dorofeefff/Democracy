{{ block content }}

<h2 id="part">Part I</h2>
<h5 id="round"></h5>
<hr>
&nbsp;

<p>
    You are <b>Individual C</b>.
    Please guess how many points out of {{ C.ENDOWMENT }}
    Individual A will allocate to Individual B.
</p>

<div class="input-group">
    <input type="range"
           name="guess"
           id="guess_slider"
           min="1" max={{ endowment }} step="1"
           value="0"
           class="form-range">
</div>

<p id="guess_choice"></p>

    {{ next_button }}

<script src="{{ static 'someScripts.js' }}"></script>
<script>
    // Put correct part and round numbers to the heading
    setPartAndRound({{ group.round_number }}, 'decision')

    // Set the choice set
    let lowBound = {{ send_min }};
    let upBound = {{ send_max }};
    if ({{ group.mode }} == "fair") {
        upBound = {{ send_fair }};
    }
    if ({{ group.mode }} == "selfish") {
        lowBound = {{ send_selfish }};
    }

    // Message that the user sees based on their choice
    function messageToUser(v) {
        return "Your guess: " + v.toString();
    }

    // Slider and element where a choice of the user will appear
    let guessSlider = document.getElementById("guess_slider");
    let guessChoice = document.getElementById("guess_choice");

    guessChoice.innerHTML = messageToUser(25)

    // The slider's behavior
    guessSlider.oninput = function() {
        if (this.value < lowBound) {this.value = lowBound}
        if (this.value > upBound) {this.value = upBound}
        guessChoice.innerHTML = messageToUser(this.value);
    }
</script>

{{ endblock }}
