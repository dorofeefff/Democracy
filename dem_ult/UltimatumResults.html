{{ block content }}
<style>
    th, td {
        padding: 15px;
        border: 1px solid #ccc;
    }
    table {
        border: 1px solid #ccc;
        margin-left: auto;
        margin-right: auto;
    }
</style>
<h2 id="part">Part I</h2>
<h6>Results</h6>
<hr>
&nbsp;

<table id="table">
    <tr id="rounds">
        <td><i>Rounds</i></td>
    </tr>
    <tr id="roles">
        <td><i>Your role</i></td>
    </tr>
    <tr id="sends">
        <td><i>Individual A allocated to Individual B</i></td>
    </tr>
    <tr id="thresholds">
        <td><i>Individual B's threshold</i></td>
    </tr>
    <tr id="guesses">
        <td><i>Your guess, if Individual C</i></td>
    </tr>
    <tr id="payoffs">
        <td><i>Your payoff</i></td>
    </tr>
</table>
&nbsp;

{{ next_button }}

<script src="{{ static 'someScripts.js' }}"></script>
<script>
    // Put correct part and round numbers to the heading
    document.getElementById('part').innerHTML = getPart({{ group.round_number }});

    let roles = {{ roles }};
    let payoffs = {{ payoffs }};
    let sends = {{ sends }};
    let thresholds = {{ thresholds }};
    let guesses = {{ guesses }};
    let n = roles.length;

    function make(parent, child) {
        const el = document.createElement("td");
        const textEl = document.createTextNode(child);
        el.appendChild(textEl);
        document.getElementById(parent).appendChild(el)
    }

    for (let i = 0; i <= n-1; i++) {
        make("rounds", i+1);
        make("roles", roles[i]);
        make("payoffs", payoffs[i]);
        make("sends", sends[i]);
        make("thresholds", thresholds[i]);
        make("guesses", guesses[i]);
    }

    if ({{ group.round_number }} == 1) {
        document.getElementById("rounds").style.display = "none"
    }
</script>
{{ endblock }}
